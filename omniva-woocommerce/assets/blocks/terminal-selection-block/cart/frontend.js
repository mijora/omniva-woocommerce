(()=>{"use strict";const e=window.wc.blocksCheckout,t=window.React,o=window.wp.element,a=window.wp.data,l=()=>wcSettings&&wcSettings["omnivalt-blocks_data"]?wcSettings["omnivalt-blocks_data"]:[],n=e=>{for(let[t,o]of Object.entries(l().methods))if(e==o)return c("Detected Omniva method",o),!0;return!1},i=l().debug,s="OMNIVA BLOCKS DEBUG:",c=(...e)=>{i&&console.log(s,...e)},m=(e,t)=>{i&&(0,o.useEffect)(()=>{console.log(s,'Changed state "'+e+'" value to:',t)},[t])},r=window.wp.i18n,_=wcSettings["omnivalt-blocks_data"].txt,p=((0,r.__)("Block options","omnivalt"),(0,r.__)("Parcel terminal","omnivalt"),(0,r.__)("Select parcel terminal","omnivalt"),(0,r.__)("Please select parcel terminal","omnivalt"),(0,r.__)("You can choose the parcel terminal on the Checkout page","omnivalt"),(0,r.__)("Loading select field...","omnivalt"),(0,r.__)("Post office","omnivalt"),(0,r.__)("Select post office","omnivalt"),(0,r.__)("Please select post office","omnivalt"),(0,r.__)("You can choose the post office on the Checkout page","omnivalt"),(0,r.__)("Omniva","omnivalt"),(0,r.__)("Matkahuolto","omnivalt"),(0,r.__)("Invalid format","omnivalt"),(0,r.__)("The phone format specified in the Shipping address is not valid for this shipping method","omnivalt"),(0,r.__)("post offices","omnivalt"),(0,r.__)("parcel terminals","omnivalt"),(0,r.__)("Post offices list","omnivalt"),(0,r.__)("Parcel terminals list","omnivalt"),(0,r.__)("Select post office","omnivalt"),(0,r.__)("Select terminal","omnivalt"),(0,r.__)("Enter postcode","omnivalt"),(0,r.__)("Search","omnivalt"),(0,r.__)("Select","omnivalt"),(0,r.__)("Select in map","omnivalt"),(0,r.__)("Use my location","omnivalt"),(0,r.__)("Distance calculated from this point","omnivalt"),(0,r.__)("Place not found","omnivalt"),(0,r.__)("There were no cities found for your search term","omnivalt"),(0,r.__)("Geolocation is not supported","omnivalt"),(0,r.__)("Place not found","omnivalt"),(0,r.__)("Value is too short","omnivalt"),(0,r.__)("Select terminal","omnivalt"),(0,r.__)("parcel terminals","omnivalt"),(0,r.__)("Parcel terminals addresses","omnivalt"),(0,r.__)("Select post office","omnivalt"),(0,r.__)("post offices","omnivalt"),(0,r.__)("Post offices addresses","omnivalt"),(0,r.__)("Enter postcode/address","omnivalt"),(0,r.__)("Show in map","omnivalt"),(0,r.__)("Show more","omnivalt"),e=>{let t="";let o=0;for(;o<e;)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random())),o+=1;return t}),v=(e,t=0)=>(t||(t=5),{value:e,token:p(t)}),f=JSON.parse('{"apiVersion":2,"name":"omnivalt/terminal-selection-cart","version":"1.0.0","title":"Omniva terminal information","category":"woocommerce","description":"Allow to add components for Omniva shipping method","parent":["woocommerce/cart-order-summary-block"],"supports":{"html":false,"align":false,"multiple":false,"reusable":false},"attributes":{"lock":{"type":"object","default":{"remove":false,"move":false}}},"textdomain":"omnivalt"}');(0,e.registerCheckoutBlock)({metadata:f,component:({className:e})=>{const[l,i]=(0,o.useState)(""),[s,r]=(0,o.useState)(v(!1));m("Block show",s),m("Selected rate ID",l);const p=(0,a.useSelect)(e=>e("wc/store/cart").getCartData().shippingRates);return(0,o.useEffect)(()=>{if(r(v(!1)),p.length){const e=(e=>{if(!e.length)return[];let t=[];for(let o=0;o<e.length;o++)if(e[o].shipping_rates)for(let a=0;a<e[o].shipping_rates.length;a++)t.push(e[o].shipping_rates[a]);return t})(p);c("Received "+e.length+" active rates:",e);for(let t=0;t<e.length;t++)e[t].rate_id&&(n(e[t].rate_id)&&e[t].selected&&r(v(!0)),e[t].selected&&i(e[t].rate_id))}else c("Empty param: shippingRates")},[p]),s.value?(0,t.createElement)("div",{className:"wc-block-components-totals-wrapper"},(0,t.createElement)("span",{className:"wc-block-components-totals-item"},_.cart_terminal_info)):(0,t.createElement)(t.Fragment,null)}})})();